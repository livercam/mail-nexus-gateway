
{
    "captainVersion": 4,
    "services": {
        "$$cap_appname": {
            "build": {
                "context": ".",
                "dockerfile": "Dockerfile"
            },
            "environment": {
                "NODE_ENV": "production",
                "PORT": "80",
                "SUPABASE_URL": "$$cap_supabase_url",
                "SUPABASE_ANON_KEY": "$$cap_supabase_anon_key",
                "SUPABASE_SERVICE_ROLE_KEY": "$$cap_supabase_service_key",
                "SMTP_HOST": "$$cap_smtp_host",
                "SMTP_PORT": "$$cap_smtp_port",
                "SMTP_USER": "$$cap_smtp_user",
                "SMTP_PASS": "$$cap_smtp_pass",
                "SMTP_SECURE": "$$cap_smtp_secure",
                "DOMAIN": "$$cap_domain",
                "VPS_IP": "$$cap_vps_ip"
            },
            "volumes": [
                "$$cap_appname-data:/app/data",
                "$$cap_appname-logs:/app/logs"
            ],
            "restart": "unless-stopped",
            "caproverExtra": {
                "containerHttpPort": "80",
                "notExposeAsWebApp": false
            }
        }
    },
    "variables": [
        {
            "id": "$$cap_supabase_url",
            "label": "Supabase URL",
            "description": "URL do projeto Supabase (ex: https://xxx.supabase.co)",
            "validRegex": "^https://.*\\.supabase\\.co$"
        },
        {
            "id": "$$cap_supabase_anon_key",
            "label": "Supabase Anon Key",
            "description": "Chave an√¥nima do Supabase (encontrada nas configura√ß√µes do projeto)"
        },
        {
            "id": "$$cap_supabase_service_key",
            "label": "Supabase Service Role Key",
            "description": "Chave de servi√ßo do Supabase (encontrada nas configura√ß√µes do projeto)"
        },
        {
            "id": "$$cap_smtp_host",
            "label": "SMTP Host",
            "defaultValue": "smtp.gmail.com",
            "description": "Servidor SMTP para envio de emails"
        },
        {
            "id": "$$cap_smtp_port",
            "label": "SMTP Port",
            "defaultValue": "587",
            "description": "Porta do servidor SMTP (587 para TLS, 465 para SSL, 25 para n√£o criptografado)"
        },
        {
            "id": "$$cap_smtp_user",
            "label": "SMTP User",
            "description": "Usu√°rio/email para autentica√ß√£o SMTP"
        },
        {
            "id": "$$cap_smtp_pass",
            "label": "SMTP Password",
            "description": "Senha ou App Password para autentica√ß√£o SMTP"
        },
        {
            "id": "$$cap_smtp_secure",
            "label": "SMTP Secure",
            "defaultValue": "true",
            "description": "Usar conex√£o segura (true para SSL/TLS, false para n√£o criptografado)"
        },
        {
            "id": "$$cap_domain",
            "label": "Domain",
            "description": "Dom√≠nio personalizado da aplica√ß√£o (ex: mail.seudominio.com)",
            "validRegex": "^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\\.[a-zA-Z]{2,}$"
        },
        {
            "id": "$$cap_vps_ip",
            "label": "VPS IP Address",
            "description": "Endere√ßo IP do servidor (usado para configura√ß√µes internas)",
            "validRegex": "^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$"
        }
    ],
    "instructions": {
        "start": "üöÄ Instalando Mail Nexus Gateway...\n\nO Mail Nexus Gateway √© um sistema completo de gerenciamento de emails com:\n- Interface web moderna\n- Sistema de templates\n- Relat√≥rios e analytics\n- Integra√ß√£o com Supabase\n- Suporte a SMTP\n\nConfigure todas as vari√°veis abaixo antes de continuar.",
        "end": "‚úÖ Mail Nexus Gateway instalado com sucesso!\n\nüìã Pr√≥ximos passos:\n1. Configure um dom√≠nio personalizado nas configura√ß√µes da app\n2. Ative HTTPS/SSL\n3. Teste o envio de emails\n4. Configure backup regular dos dados\n\nüîó Acesse sua aplica√ß√£o em: http://$$cap_appname.$$cap_root_domain\n\n‚öôÔ∏è Para configura√ß√µes avan√ßadas, consulte o reposit√≥rio: https://github.com/livercam/mail-nexus-gateway"
    },
    "displayName": "Mail Nexus Gateway",
    "description": "Sistema completo de gerenciamento de emails com interface web moderna, templates personaliz√°veis e relat√≥rios detalhados. Inclui integra√ß√£o com Supabase para persist√™ncia de dados e suporte completo a SMTP para envio de emails.",
    "documentation": "https://github.com/livercam/mail-nexus-gateway",
    "isOfficial": false
}
